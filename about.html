<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link rel="shortcut icon" href="images/icon.jpg"/>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
     <script type="text/javascript" src="javascripts/jquery-2.1.1.min.js"></script>
    <title>About - wandouSAMA</title>
  </head>

  <body>
  <a href="index.html" class="bottomleft" >Back</a>
    <header>
      <div class="container">
        <h1>About me</h1>
        <h2>By <a href="about.html" class="graylink">wandouSAMA</a>
          <a id="like" href="javascript:void(0)">‚ù§</a><span id="like_number"> </span>
        </h2>
      </div>
    </header>

    <div class="container">

        <div class="info">
          <p>
        Hi, I'm <span>Willow Zhang</span>, My major in university is Computer science and technology. <span>A girl who writes code for a living</span>.
          </p>
        </div>
        <hr>
        <h2>Working</h2>
        <div class="info">
          <p>
            A Java programmer ever, More familiar with back-end technology, With a little experience about big data (With my efforts, my job is about big data now! ). Recently I have strong interest in the front-end technology. I felt great sense of accomplishment each time I finished the beautiful page. I know that is not my strengths, but I want do what I liked, and try my best.
          </p>
        </div>
        <h2>Life</h2>
        <div class="info">
          <p>
            Like comic, guitar, film, music, and draw some pictures when I have time.
          </p>
          <p>
            Like cooking with Elisa!
          </p>
          <p>
            Like crack a joke with Oyi!
          </p>
        </div>
        <br/>

        <ul>
          <li>
            email : wandou350@aliyun.com  | wandou350@gmail.com</a>
          </li>
          <li>
            weibo : <a href="http://weibo.com/wandouyaha" target="_blank">http://weibo.com/wandouyaha</a>
          </li>
          <li>
            github : <a href="https://github.com/wandousama" target="_blank">https://github.com/wandousama</a>
          </li>
          <li>
            xiachufang : <a href="http://www.xiachufang.com/cook/11290088" target="_blank">http://www.xiachufang.com/cook/11290088</a>
          </li>
          <!-- <li>
            douban : secret
          </li> -->
        </ul>
    </div>
  </body>
   <script type="text/javascript">

     // var file = "like_number.txt";

     // var errorHandler =  function (e) {
     //   console.log('Error: ' + e.name + " -> " + e.message);
     // };

     // var writeFile = function (fs) {
     //    fs.root.getFile(file, {create: true, exclusive: true}, function(fileEntry) {
     //      fileEntry.createWriter(function (fileWriter) {
     //        var blob = new Blob([number], {type: "text/plain"});
     //        fileWriter.write(number);
     //        fileWriter.onwriteend = function () {
     //          $("#like_number").text(number);
     //        };
     //      }, errorHandler);
     //    }, errorHandler);
     // };

     //save data
     var saveDate = function (number, liked, nowTime) {
       $("#like_number").text(number);
       localStorage.setItem("sandouSAMA_like", number);
       localStorage.setItem("sandouSAMA_liked", liked);
       localStorage.setItem("sandouSAMA_like_time", new Date().getTime());
     };

     $(document).ready(function(){
        // $("#like_number").load(file);
       var number = localStorage.getItem("sandouSAMA_like");
       // has like number
       if(number != null) {
         number = parseInt(number);
         var time = localStorage.getItem("sandouSAMA_like_time");
         // if no last time or over 1 day, add random number
         if(time == null || (new Date().getTime() - parseInt(time))/ 86400000 > 1 ) {
            number += Math.round(Math.random()*10);
         }
       } else {
         // create new number
         number = Math.round(Math.random()*100);
       }
       var liked = localStorage.getItem("sandouSAMA_liked");
       // set liked or not
       if(liked == "true") {
          $("#like").addClass('red');
       }
       saveDate(number, liked);

       // click function
       $("#like").click(function(event) {
          var liked = localStorage.getItem("sandouSAMA_liked");
          var number = $("#like_number").text();
          //set data on page first
          if(liked == "true") {
            $("#like").removeClass('red');
            number--;
            liked = "false";
          } else {
            $("#like").addClass('red');
            number++;
            liked = "true";
          }
          saveDate(number, liked);
          // window.requestFileSystem  = window.requestFileSystem || window.webkitRequestFileSystem;
          // window.requestFileSystem(window.TEMPORARY, 1024*1024, writeFile,errorHandler);
       });
     });


  </script>
</html>
